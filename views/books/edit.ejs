<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title text-center mb-4">Edit Book</h2>
                    <form action="/books/edit/<%= book.id %>" method="POST" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="title" class="form-label">Title</label>
                            <input type="text" class="form-control" id="title" name="title" value="<%= book.title %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="author" class="form-label">Author</label>
                            <input type="text" class="form-control" id="author" name="author" value="<%= book.author %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="isbn" class="form-label">ISBN</label>
                            <input type="text" class="form-control" id="isbn" name="isbn" value="<%= book.isbn %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="category" class="form-label">Category</label>
                            <select class="form-select" id="category" name="category" required>
                                <option value="">Select a category</option>
                                <option value="Fiction" <%= book.category === 'Fiction' ? 'selected' : '' %>>Fiction</option>
                                <option value="Non-Fiction" <%= book.category === 'Non-Fiction' ? 'selected' : '' %>>Non-Fiction</option>
                                <option value="Science" <%= book.category === 'Science' ? 'selected' : '' %>>Science</option>
                                <option value="Technology" <%= book.category === 'Technology' ? 'selected' : '' %>>Technology</option>
                                <option value="History" <%= book.category === 'History' ? 'selected' : '' %>>History</option>
                                <option value="Biography" <%= book.category === 'Biography' ? 'selected' : '' %>>Biography</option>
                                <option value="Education" <%= book.category === 'Education' ? 'selected' : '' %>>Education</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="quantity" class="form-label">Quantity</label>
                            <input type="number" class="form-control" id="quantity" name="quantity" min="1" value="<%= book.quantity %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="cover_image" class="form-label">Cover Image</label>
                            <% if (book.cover_image) { %>
                                <div class="mb-2">
                                    <img src="<%= book.cover_image %>" alt="Current cover" class="img-thumbnail" style="max-height: 200px;">
                                </div>
                            <% } %>
                            <input type="file" class="form-control" id="cover_image" name="cover_image" accept="image/*">
                            <div class="form-text">Supported formats: JPG, JPEG, PNG, GIF. Leave empty to keep current image.</div>
                        </div>
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <a href="/books" class="btn btn-secondary me-md-2">Cancel</a>
                            <button type="submit" class="btn btn-primary">Update Book</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div> 